[pytest]
# Collect tests from module test directories and root tests/
testpaths = tests data_niftybank/tests engine_module/tests genai_module/tests ui_shell/tests user_module/tests core_kernel/tests
python_files = test_*.py
norecursedirs = scripts

# Silence known third-party warnings that are not actionable in our tests
filterwarnings =
    ignore::DeprecationWarning:httplib2
    ignore::DeprecationWarning:pydantic

# Markers
markers =
    live: tests requiring real Kite/Zerodha data and internet access
    integration: broader integration tests against services (Redis, MongoDB, Kite)
    data_integration: integration tests for data_niftybank module (Redis, Zerodha)
    genai_integration: integration tests for genai_module (MongoDB, LLM APIs)
    e2e: end-to-end tests for complete workflows
    slow: slow-running tests that take significant time
    api: API endpoint tests
    workflow: complete workflow tests
    safety: safety and validation tests
    
# Default: skip integration tests unless explicitly requested
addopts = -m "not integration"
